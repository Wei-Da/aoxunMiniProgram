{"version":3,"sources":["uni-app:///main.js","webpack:///D:/projects/uni-app/aoxunMiniProgram/pages/customerCreateService/customerCreateService.vue?b3fa","webpack:///D:/projects/uni-app/aoxunMiniProgram/pages/customerCreateService/customerCreateService.vue?7042","webpack:///D:/projects/uni-app/aoxunMiniProgram/pages/customerCreateService/customerCreateService.vue?5ecb","webpack:///D:/projects/uni-app/aoxunMiniProgram/pages/customerCreateService/customerCreateService.vue?584c","uni-app:///pages/customerCreateService/customerCreateService.vue","webpack:///D:/projects/uni-app/aoxunMiniProgram/pages/customerCreateService/customerCreateService.vue?7576","webpack:///D:/projects/uni-app/aoxunMiniProgram/pages/customerCreateService/customerCreateService.vue?5828"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6I;AACAA,UAAU,CAACC,8BAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AACyE;AACL;AACa;;;AAGjF;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,2FAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAioB,CAAgB,+nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2KrpB,oF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA,mBAEA,+CACA,gBACA,eADA,EAEA,iBAFA,EAGA,mBAHA,EAIA,qBAJA,EAKA,aALA,EAMA,aANA,G,CAQA;eAGA,EACA,IADA,kBACA,CACA,SACA,iBADA,EAEA,oBAFA,EAGA,mBAHA,EAIA,sBAJA,EAKA,kBALA,EAMA,qBANA,EAOA,YAPA,EAQA,QARA,EASA,sBATA,EAUA,mBAVA,EAWA,cAXA,EAYA,eAZA,EAYA;AACA,eAbA,EAcA,gBAdA,EAeA,aAfA,EAgBA,eAhBA,EAiBA,kBAjBA,EAkBA,wBAlBA,EAmBA,0BAnBA,EAoBA,wBApBA,EAqBA,wBArBA,EAsBA,oBAtBA,EAuBA,kBAvBA,EAwBA,kBAxBA,EAyBA,gBAzBA,EA0BA,oBA1BA,EA2BA,eA3BA,EA4BA,oBA5BA,EA6BA,gBA7BA,EA8BA,mBA9BA,EA+BA,mBA/BA,EAgCA,aAhCA,EAiCA,kBAjCA,EAkCA,aAlCA,EAmCA,iBAnCA,EAoCA,cApCA,EAqCA,qBArCA,GAuCA,CAzCA,EA0CA,MA1CA,oBA0CA,kBACA,iBACA,wEAFA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,wBACA,gCACA,4CACA,CAHA,IAKA,CAnEA,EAoEA,OApEA,qBAoEA,CACA,8CACA,4CACA,2BACA,6BACA,6DACA,CA1EA,EA2EA,MA3EA,oBA2EA,CACA,8CACA,4DACA,sBACA,kDACA,mCACA,qCACA,6DACA,CALA,MAKA,sBACA,4CACA,mCACA,kCACA,oDACA,CAEA,yGACA,wCADA,CAGA,0BACA,kEACA,wBACA,mCACA,oEACA,gIACA,8BADA,EACA,IADA,CAEA,oEACA,4BACA,CACA,CACA,CAxGA,EAyGA,QAzGA,sBAyGA,CACA,0CACA,CA3GA,EA4GA,WACA,SADA,uBACA,CACA,mEACA,uCACA,CAJA,EAMA,YANA,0BAMA,CACA,iEACA,uCACA,CATA,EAWA,cAXA,4BAWA,CACA,qEACA,uCACA,CAdA,EAgBA,SAhBA,uBAgBA,CACA,+CACA,iDACA,CAnBA,EAqBA,gDACA,4BACA,8CACA,eACA,oBACA,gCACA,MACA,sBACA,kCACA,MACA,qBACA,iCACA,MACA,wBACA,qDACA,oCACA,2BACA,yBACA,uBACA,2BACA,sBACA,+CACA,gDACA,6FACA,CAFA,MAEA,CACA,mEACA,CACA,CACA,MACA,kBACA,iBACA,8BACA,+DACA,gIACA,8BADA,EACA,IADA,CAEA,+DACA,yBACA,2DACA,CACA,CATA,MASA,CACA,8BACA,uBACA,2BACA,sBACA;;AAEA;AACA;AACA,iBA7CA;;AA+CA,KAvEA;;AAyEA,gBAzEA,wBAyEA,CAzEA,EAyEA;AACA;AACA;AACA,uCADA;;AAGA,KA9EA;;AAgFA,mBAhFA,2BAgFA,CAhFA,EAgFA;AACA;AACA;AACA,uCADA;;AAGA,KArFA;;AAuFA;AACA;AACA,gBADA,EACA;AACA,4CAFA,EAEA;AACA,uCAHA,EAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SApBA;;AAsBA,KA9GA;;AAgHA,eAhHA,uBAgHA,CAhHA,EAgHA;AACA;AACA;AACA;AACA;AACA,KArHA;;AAuHA,aAvHA,uBAuHA;AACA;AACA,KAzHA;;AA2HA,aA3HA,qBA2HA,CA3HA,EA2HA;AACA;AACA;AACA,KA9HA;;AAgIA,gBAhIA,wBAgIA,CAhIA,EAgIA;AACA;AACA;AACA,qCADA,EACA;AACA,sBAFA,CAEA;AAFA;AAIA,KAtIA;;AAwIA,gBAxIA,0BAwIA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAhJA;;AAkJA,oBAlJA,8BAkJA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KA1JA;;AA4JA,kBA5JA,4BA4JA;AACA;AACA;AACA,mBADA;;AAGA;AACA,iDADA;AAEA,sBAFA;AAGA,mBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,SAVA;;AAYA,KA7KA;;AA+KA;AACA;AACA;AACA,8BADA;;AAGA;AACA;AACA,uDADA;AAEA,sBAFA;AAGA,mBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAZA,MAYA;AACA;AACA;AACA;AACA;AACA;;AAEA,WArBA,MAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SA/CA;;AAiDA,KAtOA;;AAwOA;AACA;AACA;AACA,wBADA;;;AAIA;AACA,mDADA;AAEA,sBAFA;AAGA,mBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,SAVA;;AAYA,KA1PA;;AA4PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,sBADA;;AAGA;AACA;AACA;;AAEA,KA1UA;;AA4UA,sBA5UA,8BA4UA,CA5UA,EA4UA,MA5UA,EA4UA,OA5UA,EA4UA;AACA;AACA,iBADA;AAEA,iBAFA;AAGA,iBAHA;;AAKA;AACA;AACA,gEADA;AAEA,6EAFA;AAGA,0BAHA;;AAKA;AACA,sBADA;AAEA,4BAFA;AAGA,qDAHA;AAIA,uCAJA;AAKA,kEALA;AAMA,gDANA;AAOA,gDAPA;AAQA,+DARA;AASA,oCATA;AAUA,sCAVA;AAWA,uDAXA;AAYA,uHAZA;AAaA,6GAbA;AAcA,kEAdA;AAeA,yEAfA;AAgBA,4EAhBA;AAiBA,2EAjBA;AAkBA,uDAlBA;AAmBA,sDAnBA;AAoBA,6BApBA,EALA;;;AA4BA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAnCA;AAoCA;AACA;AACA,SAtCA;;AAwCA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,+BAFA;AAGA,+BAHA;AAIA;AACA;AACA;AACA,uDADA;;AAGA;AACA,eAVA;;AAYA,WAdA,MAcA;AACA;AACA;AACA,SA3DA;;AA6DA,KAhZA;;AAkZA;AACA;AACA,iBADA;AAEA,iBAFA;AAGA,iBAHA;;AAKA;AACA;AACA,mBADA;AAEA,qBAFA;AAGA,mDAHA;AAIA,qCAJA;AAKA,gEALA;AAMA,8CANA;AAOA,8CAPA;AAQA,6DARA;AASA,kCATA;AAUA,oCAVA;AAWA,qDAXA;AAYA;AACA,uBADA,CAZA;AAcA,2GAdA;AAeA,gEAfA;AAgBA,uEAhBA;AAiBA,0EAjBA;AAkBA,yEAlBA;AAmBA,wBAnBA;AAoBA,2BApBA;;AAsBA;AACA,6CADA;AAEA,sBAFA;AAGA,mBAHA;AAIA;AACA;AACA,yBADA;AAEA,6BAFA;AAGA,6BAHA;AAIA;AACA;AACA;AACA,qDADA;;AAGA;AACA,aAVA;;AAYA,SAjBA;;AAmBA,KAlcA;;AAocA;AACA;AACA;AACA,uBADA;;AAGA;AACA,8CADA;AAEA,sBAFA;AAGA,mBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SApBA;;AAsBA,KA/dA;;AAieA;AACA;AACA;AACA,8BADA;;AAGA;AACA,sDADA;AAEA,sBAFA;AAGA,mBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGADA;AAEA,mEAFA;AAGA,gDAHA;AAIA;AACA;AACA;AACA,SApBA;;AAsBA,KA5fA;;AA8fA;AACA,iBA/fA,2BA+fA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAngBA;;AAqgBA;AACA;AACA,iDADA;;AAGA,KAzgBA;;AA2gBA;AACA;AACA,0BADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SARA;AASA;AACA;AACA,SAXA;;AAaA,KAzhBA;;AA2hBA;AACA;AACA;AACA,8BADA;AAEA,iBAFA;;AAIA;AACA,kDADA;AAEA,sBAFA;AAGA,mBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAlBA,MAkBA;AACA;AACA,2BADA;AAEA,mCAFA;AAGA,+BAHA;AAIA;AACA;AACA,eANA;;AAQA;;AAEA,SAlCA;;AAoCA,KArkBA;;AAukBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBADA;AAEA,aAFA,GAEA,UAFA,GAEA,MAFA;AAGA;AACA,KAvmBA;;AAymBA;AACA,iDADA,CACA;AACA;AACA;AACA,sBADA;AAEA,0DAFA,CAEA;AAFA;AAIA,yBAPA,CAOA;AACA,6CARA,CAQA;AACA;AACA,KAnnBA;;AAqnBA;AACA;AACA,KAvnBA;;AAynBA;AACA;AACA;AACA,KA5nBA;;AA8nBA;AACA;AACA;AACA,KAjoBA;;AAmoBA;AACA;AACA;AACA,KAtoBA;;AAwoBA;AACA;AACA;AACA;AACA,mFADA;;AAGA;AACA,KA/oBA,EA5GA,E;;;;;;;;;;;;;ACxLA;AAAA;AAAA;AAAA;AAA05B,CAAgB,o3BAAG,EAAC,C;;;;;;;;;;;ACA96B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/customerCreateService/customerCreateService.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/customerCreateService/customerCreateService.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./customerCreateService.vue?vue&type=template&id=6d3bc984&\"\nvar renderjs\nimport script from \"./customerCreateService.vue?vue&type=script&lang=js&\"\nexport * from \"./customerCreateService.vue?vue&type=script&lang=js&\"\nimport style0 from \"./customerCreateService.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/customerCreateService/customerCreateService.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./customerCreateService.vue?vue&type=template&id=6d3bc984&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./customerCreateService.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./customerCreateService.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container container-gray\">\r\n\t\t<form class='container-body' report-submit='true' @submit='applySubmit'>\r\n\t\t\t<view class=\"group\">\r\n\t\t\t\t<view class=\"group_title\">\r\n\t\t\t\t\t<text class='group_title_text'>创建服务</text>\r\n\t\t\t\t\t<view class='switch_detail' @click='detailSwitchTap'>\r\n\t\t\t\t\t\t<image class='switch_detail_image' :src='getImgSrc'></image>\r\n\t\t\t\t\t\t<text class='switch_detail_text'>{{isOpenDetail ? '隐藏详情' : '展开详情' }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class='fun_space'></view>\r\n\t\t\t\t\t<image class='scanner_image' src='../../static/images/scanner.png' @click='scannerData'></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"group-body\" v-show='isOpenDetail'>\r\n\t\t\t\t\t<view class=\"input-list\">\r\n\t\t\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">标题</text>\r\n\t\t\t\t\t\t\t<view class=\"input-item-content\">\r\n\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"请输入标题\" :value='title' name=\"title\"></input>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">服务级别</text>\r\n\t\t\t\t\t\t\t<picker class=\"input-item-content\" @change=\"bindPickerChange\" data-pickername=\"serviceLevel\" :value=\"serviceLevelIndex\"\r\n\t\t\t\t\t\t\t :range=\"serviceLevels\" mode=\"selector\">\r\n\t\t\t\t\t\t\t\t<view class=\"input-item-content\">\r\n\t\t\t\t\t\t\t\t\t{{serviceLevels[serviceLevelIndex]}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">创建时间</text>\r\n\t\t\t\t\t\t\t<view class=\"input-item-content\" @click=\"toTimeChoose\">\r\n\t\t\t\t\t\t\t\t<text>{{createTime}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">超时时间</text>\r\n\t\t\t\t\t\t\t<view class=\"input-item-content\" @click='toEndTimeChoose'>\r\n\t\t\t\t\t\t\t\t<text>{{endTime}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">影响度</text>\r\n\t\t\t\t\t\t\t<picker class=\"input-item-content\" @change=\"bindPickerChange\" data-pickername=\"influenceLevel\" :value=\"influenceLevelIndex\"\r\n\t\t\t\t\t\t\t :range=\"influenceLevels\" mode=\"selector\">\r\n\t\t\t\t\t\t\t\t<view class=\"input-item-content\">\r\n\t\t\t\t\t\t\t\t\t{{influenceLevels[influenceLevelIndex]}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">设备所属</text>\r\n\t\t\t\t\t\t\t<picker class=\"input-item-content\" @change=\"bindPickerChange\" :value=\"deviceDepartmentIndex\" :range=\"deviceDepartments\"\r\n\t\t\t\t\t\t\t mode=\"selector\" data-pickername=\"deviceDepartment\" v-if='!isOtherDevice'>\r\n\t\t\t\t\t\t\t\t<view class=\"input-item-content\">\r\n\t\t\t\t\t\t\t\t\t{{deviceDepartments[deviceDepartmentIndex]}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t<text type='text' style='flex:1' v-if='isOtherDevice'>其它</text>\r\n\t\t\t\t\t\t\t<text class=\"input-item-change\" @click='changeDeviceFrom'>{{deviceType}}</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">设备名称</text>\r\n\t\t\t\t\t\t\t<picker class=\"input-item-content\" @change=\"bindPickerChange\" :value=\"deviceNameIndex\" :range=\"deviceNames\" mode=\"selector\"\r\n\t\t\t\t\t\t\t data-pickername=\"deviceName\" v-if='!isOtherDevice'>\r\n\t\t\t\t\t\t\t\t<view class=\"input-item-content\">\r\n\t\t\t\t\t\t\t\t\t{{deviceNames[deviceNameIndex]}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t<text v-if='!isOtherDevice' @click='deviceSearch'>设备搜索</text>\r\n\t\t\t\t\t\t\t<input type='text' style='flex:1' placeholder='请输入设备名称' v-if='isOtherDevice' :value='otherDeviceName' name=\"otherDeviceName\"></input>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"input-item\" v-if='!isOtherDevice'>\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">负责人</text>\r\n\t\t\t\t\t\t\t<view class=\"input-item-content\">\r\n\t\t\t\t\t\t\t\t<input type='text' placeholder='请输入负责人' :value='devicePerson' name=\"serviceIp\"></input>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"input-item\" v-if='!isOtherDevice'>\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">部门</text>\r\n\t\t\t\t\t\t\t<view class=\"input-item-content\">\r\n\t\t\t\t\t\t\t\t<input type='text' placeholder='请输入部门' :value='personDepartment' name=\"serviceIp\"></input>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"input-item\" v-if='!isOtherDevice'>\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">联系电话</text>\r\n\t\t\t\t\t\t\t<view class=\"input-item-content\">\r\n\t\t\t\t\t\t\t\t<input type='text' placeholder='请输入联系电话' :value='personPhone' name=\"serviceIp\"></input>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view :class=\"isOpenDetail ? 'create_des' : 'group-body'\">\r\n\t\t\t\t\t<view class=\"input-list\">\r\n\r\n\t\t\t\t\t\t<view class=\"input-item\" v-if='!isOpenDetail'>\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">设备名称</text>\r\n\t\t\t\t\t\t\t<picker class=\"input-item-content\" @change=\"bindPickerChange\" :value=\"deviceNameIndex\" :range=\"deviceNames\" mode=\"selector\"\r\n\t\t\t\t\t\t\t data-pickername=\"deviceName\">\r\n\t\t\t\t\t\t\t\t<view class=\"input-item-content\">\r\n\t\t\t\t\t\t\t\t\t{{deviceNames[deviceNameIndex]}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t<text @click='deviceSearch'>设备搜索</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">服务描述</text>\r\n\t\t\t\t\t\t\t<text type='text' style='flex:1;text-align: right' @click='transferDescribe'>{{serviceDescribe}}</text>\r\n\t\t\t\t\t\t\t<image class=\"transfer_image\" src='../../static/images/transfer.png'></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t\t\t<text class=\"input-item-lable\">语音描述</text>\r\n\t\t\t\t\t\t\t<view class='audio_record_group' @click='bindtapPlayAudio' v-if=\"audioPath != ''\">\r\n\t\t\t\t\t\t\t\t<image class=\"audio_image\" src='../../static/images/audio_icon.png'></image>\r\n\t\t\t\t\t\t\t\t<text>语音</text>\r\n\t\t\t\t\t\t\t\t<image class=\"record_image\" :src='getReadyRecord'></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text type='text' style='flex:1;text-align: right'></text>\r\n\t\t\t\t\t\t\t<view :class=\"isReady ? 'record_group' : 'start_record'\" @touchstart='bindtouchstart' @touchend='bindtouchend'>\r\n\t\t\t\t\t\t\t\t<text :class=\"isReady ? 'record_text' : 'record_start_text'\">{{isReady?'长按录音':'松开结束'}}</text>\r\n\t\t\t\t\t\t\t\t<image class=\"record_image\" :src='getRecordImg'></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"group-header\">上传图片</view>\r\n\t\t\t\t<view class=\"group-body\">\r\n\t\t\t\t\t<view class=\"img-upload\">\r\n\t\t\t\t\t\t<view class=\"gallery\">\r\n\t\t\t\t\t\t\t<view class=\"item\" v-for=\"(item, index) in uploadimgs\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<image :style=\"{width: imageWidth + 'px', height: imageWidth + 'px'}\" :src=\"item\" @click=\"previewImage\" mode=\"aspectFill\" />\r\n\t\t\t\t\t\t\t\t<!-- 删除按钮 -->\r\n\t\t\t\t\t\t\t\t<view class=\"delete\" @click=\"deleteImage\" :data-index=\"index\">\r\n\t\t\t\t\t\t\t\t\t<image :style=\"{left: imageWidth / 2 - 10 + 'px'}\" src='../../static/images/icon_delete.png' />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t\t\t\t<image :style=\"{width: imageWidth + 'px', height: imageWidth + 'px'}\" src='../../static/images/icon_add.png'\r\n\t\t\t\t\t\t\t\t class=\"button-upload\" @click=\"chooseImage\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"ad_popError\" v-if=\"popErrorMsg\">{{popErrorMsg}}</view>\r\n\r\n\t\t\t<view class=\"btn-submit\">\r\n\t\t\t\t<button class=\"btn-block btn-orange\" form-type='submit'>提交</button>\r\n\t\t\t</view>\r\n\t\t</form>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst app = getApp();\r\n\timport serviceCode from '@/apis/index.js';\r\n\tconst recorderManager = uni.getRecorderManager();\r\n\tconst options = {\r\n\t\tduration: 10000,\r\n\t\tsampleRate: 44100,\r\n\t\tnumberOfChannels: 1,\r\n\t\tencodeBitRate: 192000,\r\n\t\tformat: 'mp3',\r\n\t\tframeSize: 50\r\n\t};\r\n\t// const innerAudioContext = uni.createInnerAudioContext();\r\n\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tserviceLevels: [],\r\n\t\t\t\tserviceLevelIndex: 0,\r\n\t\t\t\tinfluenceLevels: [],\r\n\t\t\t\tinfluenceLevelIndex: 0,\r\n\t\t\t\tserviceDetails: [],\r\n\t\t\t\tserviceDetailIndex: 0,\r\n\t\t\t\tpictures: [],\r\n\t\t\t\tindex: 0,\r\n\t\t\t\tcreateTime: \"yy-mm-dd\",\r\n\t\t\t\tendTime: \"yy-mm-dd\",\r\n\t\t\t\tuploadimgs: [],\r\n\t\t\t\teditable: false, //是否可编辑\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tchangeType: '其它',\r\n\t\t\t\tisOther: true,\r\n\t\t\t\tpopErrorMsg: '',\r\n\t\t\t\tserviceContent: '',\r\n\t\t\t\tserviceDescribe: '请输入描述',\r\n\t\t\t\tdeviceDepartments: ['请选择'],\r\n\t\t\t\tdeviceDepartmentIndex: 0,\r\n\t\t\t\tdeviceDepartmentInfo: [],\r\n\t\t\t\tdeviceNames: ['请选择'],\r\n\t\t\t\tdeviceNameIndex: 0,\r\n\t\t\t\tdeviceNameInfo: [],\r\n\t\t\t\tdevicePerson: '',\r\n\t\t\t\tpersonDepartment: '',\r\n\t\t\t\tpersonPhone: '',\r\n\t\t\t\tisOtherDevice: false,\r\n\t\t\t\tdeviceType: '其它',\r\n\t\t\t\totherDeviceName: '',\r\n\t\t\t\tisOpenDetail: false,\r\n\t\t\t\tisReady: true,\r\n\t\t\t\tisPlayAudio: false,\r\n\t\t\t\taudioPath: [],\r\n\t\t\t\ttotalFilePath: [],\r\n\t\t\t\timageWidth: '',\r\n\t\t\t\tisSearchDevice: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.fetchData();\r\n\t\t\tthis.requestDepartment(uni.getStorageSync(\"userInfo\").companyId, false);\r\n\t\t\t//录音通知回调\r\n\t\t\t// recorderManager.onStop((res) => {\r\n\t\t\t// \tinnerAudioContext.src = res.tempFilePath;\r\n\t\t\t// \t// const { tempFilePath } = res\r\n\t\t\t// \tthat.setData({\r\n\t\t\t// \t\tisReady: true,\r\n\t\t\t// \t\taudioPath: res.tempFilePath\r\n\t\t\t// \t})\r\n\r\n\t\t\t// });\r\n\t\t\t//录音播放完成回调\r\n\t\t\t// innerAudioContext.onEnded(() => {\r\n\t\t\t// \tthat.setData({\r\n\t\t\t// \t\tisPlayAudio: !this.isPlayAudio\r\n\t\t\t// \t})\r\n\t\t\t// });\r\n\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tthis.imageWidth = res.windowWidth / 6 - 10;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.createTime = this.getNowFormatDate(true);\r\n\t\t\tthis.endTime = this.getNowFormatDate(false);\r\n\t\t\tthis.serviceLevelIndex = 1;\r\n\t\t\tthis.influenceLevelIndex = 1;\r\n\t\t\tthis.otherDeviceName = \"其它设备 \" + this.getNowFormatDate(true);\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tlet timeType = uni.getStorageSync(\"timeType\");\r\n\t\t\tlet serviceDescribe = uni.getStorageSync('serviceDescribe');\r\n\t\t\tif (timeType == \"Y\") {\r\n\t\t\t\tlet createTime = uni.getStorageSync(\"createTime\");\r\n\t\t\t\tuni.setStorageSync(\"timeType\", \"\");\r\n\t\t\t\tuni.setStorageSync(\"createTime\", \"\");\r\n\t\t\t\tthis.createTime = createTime == '' ? 'yy-mm-dd' : createTime;\r\n\t\t\t} else if (timeType == \"N\") {\r\n\t\t\t\tlet endTime = uni.getStorageSync(\"endTime\");\r\n\t\t\t\tuni.setStorageSync(\"timeType\", \"\");\r\n\t\t\t\tuni.setStorageSync(\"endTime\", \"\");\r\n\t\t\t\tthis.endTime = endTime == '' ? 'yy-mm-dd' : endTime;\r\n\t\t\t}\r\n\r\n\t\t\tthis.serviceDescribe = serviceDescribe == '' ? '请输入描述' : serviceDescribe.length < 10 ? serviceDescribe :\r\n\t\t\t\tserviceDescribe.substring(0, 10) + '...';\r\n\r\n\t\t\tif (this.isSearchDevice) {\r\n\t\t\t\tlet deviceIndex = parseInt(uni.getStorageSync(\"deviceIndex\")) + 1;\r\n\t\t\t\tif (deviceIndex != '') {\r\n\t\t\t\t\tthis.deviceNameIndex = deviceIndex;\r\n\t\t\t\t\tthis.devicePerson = this.deviceNameInfo[deviceIndex - 1].personName;\r\n\t\t\t\t\tthis.personDepartment = this.deviceDepartmentIndex == this.deviceDepartmentInfo.length + 1 ? \"公司资产\" : this.deviceDepartmentInfo[\r\n\t\t\t\t\t\tthis.deviceDepartmentIndex - 1].name;\r\n\t\t\t\t\tthis.personPhone = this.deviceNameInfo[deviceIndex - 1].personPhone;\r\n\t\t\t\t\tthis.isSearchDevice = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tuni.setStorageSync('serviceDescribe', '')\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetImgSrc() {\r\n\t\t\t\tconst imgSrc = isOpenDetail ? \"open_detail.png\" : \"close_detail.png\";\r\n\t\t\t\treturn '../../static/images/' + imgSrc\r\n\t\t\t},\r\n\r\n\t\t\tgetRecordImg() {\r\n\t\t\t\tconst imgSrc = this.isReady ? \"ready_record.png\" : \"do_record.png\"\r\n\t\t\t\treturn '../../static/images/' + imgSrc\r\n\t\t\t},\r\n\r\n\t\t\tgetReadyRecord() {\r\n\t\t\t\tconst imgSrc = this.isPlayAudio ? \"ready_record.png\" : \"do_record.png\"\r\n\t\t\t\treturn '../../static/images/' + imgSrc\r\n\t\t\t},\r\n\r\n\t\t\tfetchData() {\r\n\t\t\t\tthis.serviceLevels = [\"请选择\", \"一般\", \"严重\", \"紧急\"];\r\n\t\t\t\tthis.influenceLevels = [\"请选择\", \"一般\", \"严重\", \"紧急\"];\r\n\t\t\t},\r\n\r\n\t\t\tbindPickerChange: function(e) {\r\n\t\t\t\tconst eindex = e.detail.value;\r\n\t\t\t\tconst name = e.currentTarget.dataset.pickername;\r\n\t\t\t\tswitch (name) {\r\n\t\t\t\t\tcase 'serviceLevel':\r\n\t\t\t\t\t\tthis.serviceLevelIndex = eindex;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'influenceLevel':\r\n\t\t\t\t\t\tthis.influenceLevelIndex = eindex;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'serviceDetail':\r\n\t\t\t\t\t\tthis.serviceDetailIndex = eindex;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'deviceDepartment':\r\n\t\t\t\t\t\tlet deviceDepartmentInfo = this.deviceDepartmentInfo;\r\n\t\t\t\t\t\tthis.deviceDepartmentIndex = eindex;\r\n\t\t\t\t\t\tthis.deviceNames = ['请选择'];\r\n\t\t\t\t\t\tthis.deviceNameIndex = 0;\r\n\t\t\t\t\t\tthis.devicePerson = '';\r\n\t\t\t\t\t\tthis.personDepartment = '';\r\n\t\t\t\t\t\tthis.personPhone = '';\r\n\t\t\t\t\t\tif (deviceDepartmentInfo != '' && eindex > 0) {\r\n\t\t\t\t\t\t\tif (eindex == deviceDepartmentInfo.length + 1) {\r\n\t\t\t\t\t\t\t\tthis.requestCompanyDeviceName(this.companyInfos[this.companyNameIndex - 1].companyid, false);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.requestDeviceName(deviceDepartmentInfo[eindex - 1].id, false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'deviceName':\r\n\t\t\t\t\t\tif (eindex > 0) {\r\n\t\t\t\t\t\t\tthis.deviceNameIndex = eindex;\r\n\t\t\t\t\t\t\tthis.devicePerson = this.deviceNameInfo[eindex - 1].personName;\r\n\t\t\t\t\t\t\tthis.personDepartment = this.deviceDepartmentIndex == this.deviceDepartmentInfo.length + 1 ? \"公司资产\" : this.deviceDepartmentInfo[\r\n\t\t\t\t\t\t\t\tthis.deviceDepartmentIndex - 1].name;\r\n\t\t\t\t\t\t\tthis.personPhone = this.deviceNameInfo[eindex - 1].personPhone;\r\n\t\t\t\t\t\t\tif (!this.isOpenDetail) {\r\n\t\t\t\t\t\t\t\tthis.title = this.deviceNames[this.deviceNameIndex] + \"故障\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.deviceNameIndex = eindex;\r\n\t\t\t\t\t\t\tthis.devicePerson = '';\r\n\t\t\t\t\t\t\tthis.personDepartment = '';\r\n\t\t\t\t\t\t\tthis.personPhone = '';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\ttoTimeChoose(e) {\r\n\t\t\t\tuni.setStorageSync(\"timeType\", \"Y\");\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../dateChoose/dateChoose'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\ttoEndTimeChoose(e) {\r\n\t\t\t\tuni.setStorageSync(\"timeType\", \"N\");\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../dateChoose/dateChoose'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tchooseImage: function() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 9, // 默认9\r\n\t\t\t\t\tsizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tsourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t// 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片\r\n\t\t\t\t\t\tlet tempFilePaths = res.tempFilePaths;\r\n\t\t\t\t\t\tlet canAddPaths = [];\r\n\t\t\t\t\t\tlet addPicSize = 9 - this.uploadimgs.length;\r\n\t\t\t\t\t\tif (addPicSize > 0) {\r\n\t\t\t\t\t\t\tif (tempFilePaths.length < addPicSize + 1) {\r\n\t\t\t\t\t\t\t\tthis.uploadimgs = this.uploadimgs.concat(tempFilePaths);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tfor (let i = 0; i < addPicSize; i++) {\r\n\t\t\t\t\t\t\t\t\tcanAddPaths[i] = tempFilePaths[i]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.uploadimgs = this.uploadimgs.concat(canAddPaths);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tdeleteImage(e) {\r\n\t\t\t\tlet index = e.currentTarget.dataset.index;\r\n\t\t\t\tlet images = this.uploadimgs;\r\n\t\t\t\timages.splice(index, 1);\r\n\t\t\t\tthis.uploadimgs = images;\r\n\t\t\t},\r\n\r\n\t\t\teditImage() {\r\n\t\t\t\tthis.editable = !this.editable;\r\n\t\t\t},\r\n\r\n\t\t\tdeleteImg(e) {\r\n\t\t\t\tconst imgs = this.uploadimgs;\r\n\t\t\t\tthis.uploadimgs = imgs.remove(e.currentTarget.dataset.index)\r\n\t\t\t},\r\n\r\n\t\t\tpreviewImage(e) {\r\n\t\t\t\tconst pictures = this.uploadimgs;\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tcurrent: e.target.dataset.src, // 当前显示图片的http链接\r\n\t\t\t\t\turls: pictures, // 需要预览的图片http链接列表\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tchangeRepair() {\r\n\t\t\t\tif (this.isOther) {\r\n\t\t\t\t\tthis.isOther = false;\r\n\t\t\t\t\tthis.changeType = '其它';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isOther = true;\r\n\t\t\t\t\tthis.changeType = '返回';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tchangeDeviceFrom() {\r\n\t\t\t\tif (this.isOtherDevice) {\r\n\t\t\t\t\tthis.isOtherDevice = false;\r\n\t\t\t\t\tthis.deviceType = '其它';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isOtherDevice = true;\r\n\t\t\t\t\tthis.deviceType = '返回';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\trequestComapny() {\r\n\t\t\t\tlet temCompanys = ['请选择'];\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\t\"type\": '1'\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request({\r\n\t\t\t\t\turl: serviceCode[\"QUERY_COMPANY_NAME\"],\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: param,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tfor (let i = 0; i < res.detail.length; i++) {\r\n\t\t\t\t\t\t\ttemCompanys[i + 1] = res.detail[i].name;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.companyNames = temCompanys;\r\n\t\t\t\t\t\tthis.companyInfos = res.detail;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\trequestDepartment: function(compnayId, isScanner) {\r\n\t\t\t\tlet temDeviceDepartments = ['请选择'];\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\t\"companyId\": compnayId\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"是否扫描：\", isScanner);\r\n\t\t\t\tthis.$request({\r\n\t\t\t\t\turl: serviceCode[\"QUERY_COMPANY_DEPARTMENT\"],\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: param,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tfor (let i = 0; i < res.detail.length; i++) {\r\n\t\t\t\t\t\t\ttemDeviceDepartments[i + 1] = res.detail[i].name;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttemDeviceDepartments[res.detail.length + 1] = \"公司资产\";\r\n\t\t\t\t\t\tthis.deviceDepartments = temDeviceDepartments;\r\n\t\t\t\t\t\tthis.deviceDepartmentInfo = res.detail;\r\n\t\t\t\t\t\tif (isScanner) {\r\n\t\t\t\t\t\t\tconsole.log(\"扫描条件成立\");\r\n\t\t\t\t\t\t\tif (this.scannerInfo.deptId != '') {\r\n\t\t\t\t\t\t\t\tfor (let i = 0; i < this.deviceDepartmentInfo.length; i++) {\r\n\t\t\t\t\t\t\t\t\tif (this.scannerInfo.deptId == this.deviceDepartmentInfo[i].id) {\r\n\t\t\t\t\t\t\t\t\t\tthis.deviceDepartmentIndex = i + 1;\r\n\t\t\t\t\t\t\t\t\t\tthis.deviceNames = ['请选择'];\r\n\t\t\t\t\t\t\t\t\t\tthis.deviceNameIndex = 0;\r\n\t\t\t\t\t\t\t\t\t\tthis.devicePerson = '';\r\n\t\t\t\t\t\t\t\t\t\tthis.personDepartment = '';\r\n\t\t\t\t\t\t\t\t\t\tthis.personPhone = '';\r\n\t\t\t\t\t\t\t\t\t\tthis.requestDeviceName(this.deviceDepartmentInfo[i].id, true);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.deviceDepartmentIndex = this.deviceDepartmentInfo.length + 1;\r\n\t\t\t\t\t\t\t\tthis.repairNames = ['请选择'];\r\n\t\t\t\t\t\t\t\tthis.repairNameIndex = [0];\r\n\t\t\t\t\t\t\t\tthis.requestCompanyDeviceName(this.scannerInfo.companyId, true);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"扫描条件不成立\");\r\n\t\t\t\t\t\t\tfor (let i = 0; i < this.deviceDepartmentInfo.length; i++) {\r\n\t\t\t\t\t\t\t\tif (uni.getStorageSync(\"userInfo\").deptId == this.deviceDepartmentInfo[i].id) {\r\n\t\t\t\t\t\t\t\t\tthis.deviceDepartmentIndex = i + 1;\r\n\t\t\t\t\t\t\t\t\tthis.deviceNames = ['请选择'];\r\n\t\t\t\t\t\t\t\t\tthis.deviceNameIndex = 0;\r\n\t\t\t\t\t\t\t\t\tthis.devicePerson = '';\r\n\t\t\t\t\t\t\t\t\tthis.personDepartment = '';\r\n\t\t\t\t\t\t\t\t\tthis.personPhone = '';\r\n\t\t\t\t\t\t\t\t\tthis.requestDeviceName(this.deviceDepartmentInfo[i].id, false);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\trequestCompanyMember: function(deptId) {\r\n\t\t\t\tlet temMembers = ['请选择'];\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\t\"deptId\": deptId\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$request({\r\n\t\t\t\t\turl: serviceCode[\"QUERY_COMPANY_MEMBER\"],\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: param,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tfor (let i = 0; i < res.detail.length; i++) {\r\n\t\t\t\t\t\t\ttemMembers[i + 1] = res.detail[i].name;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.departmentNames = temDepartments;\r\n\t\t\t\t\t\tthis.departmentInfos = res.detail;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tapplySubmit: function(e) {\r\n\t\t\t\tlet formid = e.detail.formId;\r\n\t\t\t\tthis.dealFormIds(formid);\r\n\t\t\t\tlet otherDeviceName = e.detail.value.otherDeviceName;\r\n\t\t\t\tlet title = e.detail.value.title;\r\n\t\t\t\tlet serviceContent = uni.getStorageSync('serviceDescribe');\r\n\t\t\t\tif (uni.getStorageSync('userInfo').isRepair == '1' && this.isOtherDevice) {\r\n\t\t\t\t\tthis.popErrorMsg = '请选择二维码扫描的方式报修';\r\n\t\t\t\t\tthis.ohShitfadeOut();\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.isOpenDetail) {\r\n\t\t\t\t\tif (this.deviceNameIndex == 0) {\r\n\t\t\t\t\t\tthis.popErrorMsg = '请选择设备名称';\r\n\t\t\t\t\t\tthis.ohShitfadeOut();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (title == '') {\r\n\t\t\t\t\tthis.popErrorMsg = '请输入标题';\r\n\t\t\t\t\tthis.ohShitfadeOut();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.title = title;\r\n\t\t\t\tif (this.serviceLevelIndex == 0) {\r\n\t\t\t\t\tthis.popErrorMsg = '请服务级别';\r\n\t\t\t\t\tthis.ohShitfadeOut();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.createTime == 'yy-mm-dd' || this.createTime == '') {\r\n\t\t\t\t\tthis.popErrorMsg = '请选择创建时间';\r\n\t\t\t\t\tthis.ohShitfadeOut();\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.endTime == 'yy-mm-dd' || this.endTime == '') {\r\n\t\t\t\t\tthis.popErrorMsg = '请选择超时时间';\r\n\t\t\t\t\tthis.ohShitfadeOut();\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.influenceLevelIndex == 0) {\r\n\t\t\t\t\tthis.popErrorMsg = '请选择影响度';\r\n\t\t\t\t\tthis.ohShitfadeOut();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.isOtherDevice) {\r\n\t\t\t\t\tif (this.deviceNameIndex == 0) {\r\n\t\t\t\t\t\tthis.popErrorMsg = '请选择设备名称';\r\n\t\t\t\t\t\tthis.ohShitfadeOut();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (otherDeviceName == '') {\r\n\t\t\t\t\t\tthis.popErrorMsg = '请输入设备名称';\r\n\t\t\t\t\t\tthis.ohShitfadeOut();\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.otherDeviceName = otherDeviceName;\r\n\t\t\t\t}\r\n\t\t\t\tif (serviceContent == '' && this.audioPath.length == 0) {\r\n\t\t\t\t\tthis.popErrorMsg = '请填输入服务描述或语音描述';\r\n\t\t\t\t\tthis.ohShitfadeOut();\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.serviceContent = serviceContent;\r\n\t\t\t\tthis.totalFilePath = this.uploadimgs.concat(this.audioPath)\r\n\r\n\t\t\t\tif (this.totalFilePath.length == 0) {\r\n\t\t\t\t\tthis.uploadNoImageAndData();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '加载中',\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.uploadImageAndData(0, this.totalFilePath.length, '');\r\n\t\t\t\t}\r\n\t\t\t\t//this.sendNote(formid);\r\n\r\n\t\t\t},\r\n\r\n\t\t\tuploadImageAndData(i, length, faultId) {\r\n\t\t\t\tlet map = {\r\n\t\t\t\t\t'1': '10',\r\n\t\t\t\t\t'2': '15',\r\n\t\t\t\t\t'3': '20'\r\n\t\t\t\t};\r\n\t\t\t\tlet effects = ['1', '2', '3'];\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\turl: this.$websiteUrl + serviceCode[\"CREATE_SERVICE\"],\r\n\t\t\t\t\tfilePath: this.totalFilePath.length == 0 ? '' : this.totalFilePath[i],\r\n\t\t\t\t\tname: 'attachment',\r\n\r\n\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t'state': '1',\r\n\t\t\t\t\t\t'faultId': faultId,\r\n\t\t\t\t\t\t'userId': uni.getStorageSync('userInfo').id,\r\n\t\t\t\t\t\t'faultInfo.title': this.title,\r\n\t\t\t\t\t\t'faultInfo.faultLevel': map[this.serviceLevelIndex + ''],\r\n\t\t\t\t\t\t'faultInfo.faultDate': this.createTime,\r\n\t\t\t\t\t\t'faultInfo.faultEndDate': this.endTime,\r\n\t\t\t\t\t\t'faultInfo.effect': effects[this.influenceLevelIndex],\r\n\t\t\t\t\t\t'faultInfo.faultFrom': '3',\r\n\t\t\t\t\t\t'faultInfo.faultStatus': '1',\r\n\t\t\t\t\t\t'faultInfo.faultContent': this.serviceContent,\r\n\t\t\t\t\t\t'faultInfo.equipmentName': this.isOtherDevice ? this.otherDeviceName : this.deviceNames[this.deviceNameIndex],\r\n\t\t\t\t\t\t'faultInfo.equipmentId': this.isOtherDevice ? '' : this.deviceNameInfo[this.deviceNameIndex - 1].id,\r\n\t\t\t\t\t\t'faultInfo.sysuserid': uni.getStorageSync('userInfo').id,\r\n\t\t\t\t\t\t'faultInfo.companyid': uni.getStorageSync('userInfo').companyId,\r\n\t\t\t\t\t\t'faultInfo.repairmanName': uni.getStorageSync('userInfo').userName,\r\n\t\t\t\t\t\t'faultInfo.repairmanPhone': uni.getStorageSync('userInfo').mobile,\r\n\t\t\t\t\t\t'routerCompany': uni.getStorageSync(\"serial\"),\r\n\t\t\t\t\t\t'sessionId': uni.getStorageSync(\"sessionId\"),\r\n\t\t\t\t\t\t'faultStatusOne': 1,\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tif (i == 0) {\r\n\t\t\t\t\t\t\tfaultId = JSON.parse(res.data).faultId;\r\n\t\t\t\t\t\t\tconsole.log(JSON.parse(res.data).faultId);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\tif (i == length) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\t\t\t\tcontent: '服务创建成功',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\turl: '../customerPage/customerPage',\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.uploadImageAndData(i, length, faultId);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tuploadNoImageAndData: function() {\r\n\t\t\t\tlet map = {\r\n\t\t\t\t\t'1': '10',\r\n\t\t\t\t\t'2': '15',\r\n\t\t\t\t\t'3': '20'\r\n\t\t\t\t};\r\n\t\t\t\tlet effects = ['1', '2', '3'];\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\t'state': '',\r\n\t\t\t\t\t'faultId': '',\r\n\t\t\t\t\t'userId': uni.getStorageSync('userInfo').id,\r\n\t\t\t\t\t'faultInfo.title': this.title,\r\n\t\t\t\t\t'faultInfo.faultLevel': map[this.serviceLevelIndex + ''],\r\n\t\t\t\t\t'faultInfo.faultDate': this.createTime,\r\n\t\t\t\t\t'faultInfo.faultEndDate': this.endTime,\r\n\t\t\t\t\t'faultInfo.effect': effects[this.influenceLevelIndex],\r\n\t\t\t\t\t'faultInfo.faultFrom': '3',\r\n\t\t\t\t\t'faultInfo.faultStatus': '1',\r\n\t\t\t\t\t'faultInfo.faultContent': this.serviceContent,\r\n\t\t\t\t\t'faultInfo.equipmentName': this.isOtherDevice ? this.otherDeviceName : this.deviceNames[this\r\n\t\t\t\t\t\t.deviceNameIndex],\r\n\t\t\t\t\t'faultInfo.equipmentId': this.isOtherDevice ? '' : this.deviceNameInfo[this.deviceNameIndex - 1].id,\r\n\t\t\t\t\t'faultInfo.sysuserid': uni.getStorageSync('userInfo').id,\r\n\t\t\t\t\t'faultInfo.companyid': uni.getStorageSync('userInfo').companyId,\r\n\t\t\t\t\t'faultInfo.repairmanName': uni.getStorageSync('userInfo').userName,\r\n\t\t\t\t\t'faultInfo.repairmanPhone': uni.getStorageSync('userInfo').mobile,\r\n\t\t\t\t\t'attachment': '',\r\n\t\t\t\t\t'faultStatusOne': 1,\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request({\r\n\t\t\t\t\turl: serviceCode[\"CREATE_SERVICE\"],\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: param,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\t\t\tcontent: '服务创建成功',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\turl: '../customerPage/customerPage',\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\trequestDeviceName: function(perId, isScanner) {\r\n\t\t\t\tlet temMembers = ['请选择'];\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\t\"deptId\": perId\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request({\r\n\t\t\t\t\turl: serviceCode[\"GET_DEVICE_NAME\"],\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: param,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tfor (let i = 0; i < res.info.length; i++) {\r\n\t\t\t\t\t\t\ttemMembers[i + 1] = res.info[i].deviceName;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.deviceNames = temMembers;\r\n\t\t\t\t\t\tthis.deviceNameInfo = res.info;\r\n\t\t\t\t\t\tif (isScanner) {\r\n\t\t\t\t\t\t\tfor (let i = 0; i < this.deviceNameInfo.length; i++) {\r\n\t\t\t\t\t\t\t\tif (this.deviceNameInfo[i].id == this.scannerInfo.id) {\r\n\t\t\t\t\t\t\t\t\tthis.devicePerson = this.scannerInfo.personName;\r\n\t\t\t\t\t\t\t\t\tthis.personDepartment = this.deviceDepartments[this.deviceDepartmentIndex];\r\n\t\t\t\t\t\t\t\t\tthis.personPhone = this.scannerInfo.personPhone;\r\n\t\t\t\t\t\t\t\t\tthis.deviceNameIndex = i + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\trequestCompanyDeviceName: function(companyId, isScanner) {\r\n\t\t\t\tlet temMembers = ['请选择'];\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\t\"companyId\": companyId\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request({\r\n\t\t\t\t\turl: serviceCode[\"COMPANY_GET_DEVICE_NAME\"],\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: param,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tfor (let i = 0; i < res.info.length; i++) {\r\n\t\t\t\t\t\t\ttemMembers[i + 1] = res.info[i].deviceName;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.deviceNames = temMembers;\r\n\t\t\t\t\t\tthis.deviceNameInfo = res.info;\r\n\t\t\t\t\t\tif (isScanner) {\r\n\t\t\t\t\t\t\tfor (let i = 0; i < this.deviceNameInfo.length; i++) {\r\n\t\t\t\t\t\t\t\tif (this.deviceNameInfo[i].id == this.scannerInfo.id) {\r\n\t\t\t\t\t\t\t\t\tthis.devicePerson = this.scannerInfo.personName,\r\n\t\t\t\t\t\t\t\t\t\tthis.personDepartment = this.deviceDepartments[this.deviceDepartmentIndex],\r\n\t\t\t\t\t\t\t\t\t\tthis.personPhone = this.scannerInfo.personPhone,\r\n\t\t\t\t\t\t\t\t\t\tthis.deviceNameIndex = i + 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 定时器提示框3秒消失  \r\n\t\t\tohShitfadeOut() {\r\n\t\t\t\tlet fadeOutTimeout = setTimeout(() => {\r\n\t\t\t\t\tthis.popErrorMsg = '';\r\n\t\t\t\t}, 3000);\r\n\t\t\t},\r\n\r\n\t\t\ttransferDescribe: function() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../serviceDescribe/serviceDescribe',\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tscannerData: function() {\r\n\t\t\t\tuni.scanCode({\r\n\t\t\t\t\tscanType: 'qrCode',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tif (res.result != null) {\r\n\t\t\t\t\t\t\tthis.isOtherDevice = false;\r\n\t\t\t\t\t\t\tthis.getScannerContent(JSON.parse(res.result).eId)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tconsole.log(\"扫描失败\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tgetScannerContent: function(id) {\r\n\t\t\t\tlet temMembers = ['请选择'];\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\t\"equipmentInfo.id\": id,\r\n\t\t\t\t\t\"type\": 1\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request({\r\n\t\t\t\t\turl: serviceCode[\"GET_SCANNER_CONTENT\"],\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: param,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (uni.getStorageSync('userInfo').companyId == res.info[0].companyId) {\r\n\t\t\t\t\t\t\tthis.departmentNames = ['请选择'];\r\n\t\t\t\t\t\t\tthis.departmentNameIndex = [0];\r\n\t\t\t\t\t\t\tthis.deviceDepartments = ['请选择'];\r\n\t\t\t\t\t\t\tthis.deviceDepartmentIndex = 0;\r\n\t\t\t\t\t\t\tthis.deviceNames = ['请选择'];\r\n\t\t\t\t\t\t\tthis.deviceNameIndex = 0;\r\n\t\t\t\t\t\t\tthis.devicePerson = '';\r\n\t\t\t\t\t\t\tthis.personDepartment = '';\r\n\t\t\t\t\t\t\tthis.personPhone = '';\r\n\t\t\t\t\t\t\tthis.deviceNameIndex = 0;\r\n\t\t\t\t\t\t\tthis.scannerInfo = res.info[0];\r\n\t\t\t\t\t\t\tthis.title = res.info[0].deviceName + \"故障\";\r\n\t\t\t\t\t\t\tthis.createTime = this.getNowFormatDate(true);\r\n\t\t\t\t\t\t\tthis.endTime = this.getNowFormatDate(false);\r\n\t\t\t\t\t\t\tthis.serviceLevelIndex = 1;\r\n\t\t\t\t\t\t\tthis.influenceLevelIndex = 1;\r\n\t\t\t\t\t\t\tthis.requestDepartment(uni.getStorageSync('userInfo').companyId, true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '温馨提示',\r\n\t\t\t\t\t\t\t\tcontent: '服务公司不存在此设备',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tgetNowFormatDate: function(isNowDay) {\r\n\t\t\t\tlet date = new Date();\r\n\t\t\t\tif (!isNowDay) {\r\n\t\t\t\t\tdate.setDate(date.getDate() + 3);\r\n\t\t\t\t}\r\n\t\t\t\tlet seperator1 = \"-\";\r\n\t\t\t\tlet seperator2 = \":\";\r\n\t\t\t\tlet seperator3 = \" \";\r\n\t\t\t\tlet month = date.getMonth() + 1;\r\n\t\t\t\tlet strDate = date.getDate();\r\n\t\t\t\tlet hour = date.getHours();\r\n\t\t\t\tlet minutes = date.getMinutes()\r\n\t\t\t\tlet second = date.getSeconds();\r\n\t\t\t\tif (month >= 1 && month <= 9) {\r\n\t\t\t\t\tmonth = \"0\" + month;\r\n\t\t\t\t}\r\n\t\t\t\tif (strDate >= 0 && strDate <= 9) {\r\n\t\t\t\t\tstrDate = \"0\" + strDate;\r\n\t\t\t\t}\r\n\t\t\t\tif (hour >= 0 && hour <= 9) {\r\n\t\t\t\t\thour = \"0\" + hour;\r\n\t\t\t\t}\r\n\t\t\t\tif (minutes >= 0 && minutes <= 9) {\r\n\t\t\t\t\tminutes = \"0\" + minutes;\r\n\t\t\t\t}\r\n\t\t\t\tif (second >= 0 && second <= 9) {\r\n\t\t\t\t\tsecond = \"0\" + second;\r\n\t\t\t\t}\r\n\t\t\t\tconst currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate + seperator3 + hour +\r\n\t\t\t\t\tseperator2 +\r\n\t\t\t\t\tminutes + seperator2 + second;\r\n\t\t\t\treturn currentdate;\r\n\t\t\t},\r\n\r\n\t\t\tdealFormIds: function(formId) {\r\n\t\t\t\tlet formIds = app.globalData.gloabalFomIds; // 获取全局数据中的推送码gloabalFomIds数组\r\n\t\t\t\tif (!formIds) formIds = [];\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tformId: formId,\r\n\t\t\t\t\texpire: parseInt(new Date().getTime()) + 604800000 //计算7天后的过期时间时间戳\r\n\t\t\t\t}\r\n\t\t\t\tformIds.push(data); //将data添加到数组的末尾\r\n\t\t\t\tapp.globalData.gloabalFomIds = formIds; //保存推送码并赋值给全局变量\r\n\t\t\t\tconsole.log(formIds);\r\n\t\t\t},\r\n\r\n\t\t\tdetailSwitchTap: function() {\r\n\t\t\t\tthis.isOpenDetail = !this.isOpenDetail;\r\n\t\t\t},\r\n\r\n\t\t\tbindtapPlayAudio: function() {\r\n\t\t\t\tthis.isPlayAudio = !this.isPlayAudio;\r\n\t\t\t\tinnerAudioContext.play();\r\n\t\t\t},\r\n\r\n\t\t\tbindtouchstart: function(e) {\r\n\t\t\t\tthis.isReady = false;\r\n\t\t\t\trecorderManager.start(options);\r\n\t\t\t},\r\n\r\n\t\t\tbindtouchend: function(e) {\r\n\t\t\t\trecorderManager.stop();\r\n\t\t\t\tthis.isReady = true;\r\n\t\t\t},\r\n\r\n\t\t\tdeviceSearch: function(e) {\r\n\t\t\t\tif (this.deviceNames.length != 1) {\r\n\t\t\t\t\tthis.isSearchDevice = true;\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '../searchPage/searchPage?deviceNames=' + this.deviceNames.join('_'),\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.image-dis {\r\n\t\tmargin: 5rpx;\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t}\r\n\r\n\t.input-item-change {\r\n\t\tdisplay: block;\r\n\t\twidth: 2.5em;\r\n\t\tcolor: #49B2F2;\r\n\t}\r\n\r\n\t.group_title {\r\n\t\theight: 70rpx;\r\n\t\tline-height: 70rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tpadding-left: 20rpx;\r\n\t\tbackground: #f9f9f9;\r\n\t}\r\n\r\n\t.scanner_image {\r\n\t\theight: 50rpx;\r\n\t\twidth: 50rpx;\r\n\t\tmargin: 10rpx 10rpx;\r\n\t}\r\n\r\n\t.group_title_text {\r\n\t\theight: 70rpx;\r\n\t\tline-height: 70rpx;\r\n\t}\r\n\r\n\t.switch_detail {\r\n\t\theight: 70rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row\r\n\t}\r\n\r\n\t.fun_space {\r\n\t\theight: 70rpx;\r\n\t\tflex: 1\r\n\t}\r\n\r\n\t.switch_detail_image {\r\n\t\theight: 23rpx;\r\n\t\twidth: 23rpx;\r\n\t\tmargin: 23.5rpx 20rpx;\r\n\t}\r\n\r\n\t.switch_detail_text {\r\n\t\theight: 70rpx;\r\n\t\tline-height: 70rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 23rpx;\r\n\t\tmargin-left: -15rpx;\r\n\t\tcolor: #A6A6A6;\r\n\t}\r\n\r\n\t.create_des {\r\n\t\tbackground: #fff;\r\n\t\tborder-bottom: 1rpx solid #ddd;\r\n\t}\r\n\r\n\t.create_des .input-list {\r\n\t\tmargin: 0;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.record_group {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tborder: 1rpx solid #E8E8E8;\r\n\t\tborder-radius: 8rpx;\r\n\t\tpadding: 0rpx 10rpx;\r\n\r\n\t}\r\n\r\n\t.start_record {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tborder: 1rpx solid #E8E8E8;\r\n\t\tborder-radius: 8rpx;\r\n\t\tpadding: 0rpx 10rpx;\r\n\t\tbackground: #5AB9F4;\r\n\t}\r\n\r\n\t.record_image {\r\n\t\twidth: 20rpx;\r\n\t\theight: 20rpx;\r\n\t\tmargin: 24rpx 5rpx;\r\n\r\n\t}\r\n\r\n\t.record_text {\r\n\t\tcolor: #5AB9F4\r\n\t}\r\n\r\n\t.record_start_text {\r\n\t\tcolor: #FFFFFF\r\n\t}\r\n\r\n\t.audio_image {\r\n\t\twidth: 20rpx;\r\n\t\theight: 20rpx;\r\n\t\tmargin: 24rpx 15rpx;\r\n\r\n\t}\r\n\r\n\t/*画廊*/\r\n\t.gallery {\r\n\t\t/*margin-bottom: 100rpx;*/\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t/*每张图片所占容器*/\r\n\t.item {\r\n\t\tposition: relative;\r\n\t\tmargin: 5px;\r\n\t}\r\n\r\n\t/*删除按钮*/\r\n\t.delete {\r\n\t\tposition: absolute;\r\n\t\theight: 20px;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tbackground: #ccc;\r\n\t\topacity: .8;\r\n\t}\r\n\r\n\t.delete image {\r\n\t\tposition: absolute;\r\n\t\twidth: 20px;\r\n\t\theight: 20px;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./customerCreateService.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./customerCreateService.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1605860381586\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}